---
title: "LangChain"
description: "Integrate Worlds as a persistent VectorStore and Memory for LangChain."
---

# LangChain Integration

LangChain provides a standard interface for memory and vector search. Worlds can be integrated as a custom `VectorStore` or a `BaseChatMessageHistory`.

## Installation

```bash
npm install @wazootech/worlds langchain
```

## Worlds as a VectorStore

You can use the Worlds `search` endpoint to power a LangChain Retriever.

```typescript
import { Worlds } from "@wazootech/worlds";
import { VectorStore } from "@langchain/core/vectorstores";
import { Document } from "@langchain/core/documents";

class WorldsVectorStore extends VectorStore {
  private worlds: Worlds;
  private worldId: string;

  constructor(apiKey: string, worldId: string) {
    super(null as any, {}); // Worlds handles embeddings internally
    this.worlds = new Worlds({ apiKey });
    this.worldId = worldId;
  }

  async similaritySearch(query: string, k = 4): Promise<Document[]> {
    const results = await this.worlds.search(this.worldId, { query, limit: k });
    return results.map(
      (r) =>
        new Document({
          pageContent: r.text, // Assuming the response has a text field
          metadata: r.metadata,
        }),
    );
  }

  // Implement other required methods...
}
```

## Using in a Chain

Once you have a retriever, you can use it in any standard LCEL chain.

```typescript
import { ChatOpenAI } from "@langchain/openai";
import { createRetrievalChain } from "langchain/chains/retrieval";

const vectorStore = new WorldsVectorStore(
  process.env.WORLDS_API_KEY!,
  "my-world-id",
);
const retriever = vectorStore.asRetriever();
const model = new ChatOpenAI();

const chain = await createRetrievalChain({
  retriever,
  combineDocsChain: createStuffDocumentsChain({ llm: model }),
});

const response = await chain.invoke({
  input: "What is the status of the project?",
});
```

## Next Steps

- Check out the [Social Graphs](/cookbook/social-graphs) guide for specialized knowledge structures.
- Learn about [Connectors](/developer-platform/concepts/connectors) to automatically sync external data into LangChain.
